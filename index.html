<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <meta name="description" content="Atlas OS ‚Äî Sovereign AI-native OS for runtime automation, execution & control."/>
  <meta name="theme-color" content="#000000"/>
  <title>Atlas OS ‚Äî Sovereign Command Engine</title>

  <!-- Google Fonts & Widget CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="assets/css/widget.min.css"/>

  <style>
    :root {
      --accent: #0ff;
      --bg-start: #0d1117;
      --bg-end: #000;
      --fg: #f0f6fc;
      --fg-muted: #6c8e99;
      --radius: 8px;
      --transition: 0.3s ease;
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body {
      background: radial-gradient(circle at top, var(--bg-start), var(--bg-end));
      color: var(--fg);
      font-family: 'Space Grotesk', sans-serif;
      text-align: center;
      overflow-x: hidden;
      line-height: 1.5;
    }
    a { color: inherit; text-decoration: none; }

    /* Hero */
    header {
      position: relative; overflow: hidden; padding: 6rem 2rem 4rem;
    }
    header::before {
      content:""; position:absolute; inset:0;
      background:radial-gradient(circle, rgba(0,255,255,0.1), transparent);
      animation:pulseBG 12s infinite alternate; z-index:-1;
    }
    @keyframes pulseBG {
      from { transform:scale(1); opacity:.6 } to { transform:scale(1.2); opacity:.3 }
    }
    header h1 {
      font-size: 3.6rem; color:var(--accent);
      text-shadow:0 0 20px var(--accent); margin-bottom:1rem;
    }
    header p {
      font-size:1.2rem; max-width:700px;
      margin:0 auto 2rem; color:var(--fg-muted);
    }
    .scroll-down {
      display:inline-block; margin-top:1rem;
      font-size:2rem; color:var(--accent);
      animation:bounce 2.5s infinite;
    }
    @keyframes bounce {
      0%,100%{ transform:translateY(0) }
      50%    { transform:translateY(10px) }
    }

    /* Buttons */
    .btn {
      display:inline-block; background:var(--accent);
      color:#000; font-weight:700; border-radius:var(--radius);
      padding:1rem 2rem; position:relative; overflow:hidden;
      transition:var(--transition);
    }
    .btn:hover { transform: scale(1.05); }
    .btn::after {
      content:""; position:absolute; top:50%; left:50%;
      width:0; height:0; background:rgba(0,0,0,0.1);
      border-radius:50%; transform:translate(-50%,-50%);
      transition:width .4s ease, height .4s ease;
    }
    .btn:active::after { width:200%; height:200%; transition:0s; }

    /* Pricing Cards */
    .tiers {
      display:grid; gap:2rem; padding:0 2rem;
      grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      max-width:1200px; margin:3rem auto;
    }
    .card {
      background:#00121c; border:2px solid var(--accent);
      border-radius:var(--radius); perspective:500px;
    }
    .card .inner {
      padding:2rem; transform-style:preserve-3d;
      transition:transform .2s ease;
    }
    .card:hover .inner {
      transform:rotateX(3deg) rotateY(3deg);
    }
    .card h3 { margin-bottom:.75rem; color:var(--accent); }
    .card p  { margin-bottom:1rem; color:var(--fg-muted); }

    /* Dashboard Widget */
    #widget-container {
      width:90%; max-width:800px; height:400px;
      margin:4rem auto; border-radius:var(--radius);
      overflow:hidden; box-shadow:0 0 20px rgba(0,0,0,.5);
    }

    /* Terminal */
    .terminal {
      max-width:1000px; margin:4rem auto 2rem;
      background:#0a1018; border:2px solid #0ff3;
      border-radius:var(--radius); padding:2rem;
      transition:var(--transition);
    }
    .terminal-log {
      height:300px; background:#00070f; padding:1rem;
      border-radius:var(--radius); font-family:monospace;
      color:#b4f3ff; overflow-y:auto; margin-bottom:1rem;
    }
    .terminal-input {
      display:flex; gap:1rem; justify-content:center;
    }
    .terminal-input input {
      flex:1; background:#162029; border:none;
      border-radius:6px; color:#fff; padding:.8rem;
      font-size:1rem; transition:border-color .2s ease;
    }
    .cursor {
      display:inline-block; width:1ch;
      background:var(--fg); animation:blink .8s step-end infinite;
      margin-left:.2rem;
    }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }
    #suggestions {
      margin-top:.5rem; color:var(--fg-muted);
      font-size:.9rem; display:flex; flex-wrap:wrap;
      justify-content:center; gap:.5rem;
    }

    /* Footer */
    footer {
      padding:2rem 1rem; font-size:.9rem;
      color:var(--fg-muted); border-top:1px solid rgba(255,255,255,0.1);
      margin-top:2rem;
    }
  </style>
</head>
<body>

  <header>
    <h1>üß¨ Atlas OS ‚Äî Sovereign Runtime</h1>
    <p>Command automation. Execute directives. Control your system at runtime.</p>
    <a href="#demo" class="scroll-down">‚¨áÔ∏é</a>
  </header>

  <div class="tiers">
    <div class="card"><div class="inner">
      <h3>üÜì Free Mode</h3>
      <p>Instant access to the Atlas Protocol shell ‚Äî no signup required.</p>
      <a href="#demo" class="btn">Enter Demo</a>
    </div></div>

    <div class="card"><div class="inner">
      <h3>‚≠ê Starter ‚Äî $9/mo</h3>
      <p>Basic runtime commands and core automation.</p>
      <a href="https://buy.stripe.com/8x29ALfC5dYx6Om86O4Rq03" class="btn" target="_blank">Activate Starter</a>
    </div></div>

    <div class="card"><div class="inner">
      <h3>‚ö° Pro ‚Äî $29/mo</h3>
      <p>Expanded command set, priority support, collaboration tools.</p>
      <a href="https://buy.stripe.com/fZu7sDfC5f2B6Om2Mu4Rq01" class="btn" target="_blank">Activate Pro</a>
    </div></div>

    <div class="card"><div class="inner">
      <h3>üöÄ Elite ‚Äî $99/mo</h3>
      <p>Full AI interface with memory, monetization hooks & SystemLink control.</p>
      <a href="https://buy.stripe.com/9B6bITahLg6Fb4Ccn44Rq02" class="btn" target="_blank">Activate Elite</a>
    </div></div>
  </div>

  <section id="dashboard">
    <h2>üìä Live System Dashboard</h2>
    <div id="widget-container"></div>
  </section>

  <section id="demo" class="terminal">
    <h2>üí¨ Atlas Protocol Terminal</h2>
    <div class="terminal-log" id="terminalLog">
      <div><strong>üß† Atlas:</strong> Sovereign runtime active. Awaiting directives‚Ä¶</div>
    </div>
    <div class="terminal-input">
      <input type="text" id="terminalInput" placeholder="e.g. status"/>
      <button onclick="sendDirective()" class="btn">Execute</button>
    </div>
    <div id="suggestions"></div>
  </section>

  <footer>
    ¬© 2025 Atlas Industries ¬∑ Overseer.exe ¬∑ SystemLink v1.0 ¬∑ Sovereign Runtime Online
  </footer>

  <!-- Widget & Terminal Scripts -->
  <script src="assets/js/widget.min.js" defer></script>
  <script>
    const API = window.NEXT_PUBLIC_API_ENDPOINT;

    async function sendDirective() {
      const inp = document.getElementById('terminalInput');
      const log = document.getElementById('terminalLog');
      const cmd = inp.value.trim();
      if (!cmd) return;

      // Clear error state
      inp.style.borderColor = '';
      log.insertAdjacentHTML('beforeend', `<div><strong>üßç You:</strong> ${cmd}</div>`);

      // Loader
      const loader = document.createElement('div');
      loader.textContent = 'üïí Executing‚Ä¶';
      log.appendChild(loader);
      log.scrollTop = log.scrollHeight;

      try {
        let res = await fetch(API, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({command: cmd})
        });
        // Fallback to GET on 405
        if (res.status === 405) {
          res = await fetch(`${API}?command=${encodeURIComponent(cmd)}`);
        }
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        loader.remove();
        const out = data.output ?? JSON.stringify(data);
        log.insertAdjacentHTML('beforeend',
          `<div><strong>üß† Atlas:</strong> ${out}<span class="cursor"></span></div>`);
      } catch (err) {
        loader.remove();
        log.insertAdjacentHTML('beforeend',
          `<div><strong>‚ö†Ô∏è Error:</strong> ${err.message}</div>`);
        inp.style.borderColor = 'red';
      }

      log.scrollTop = log.scrollHeight;
      inp.value = '';
    }

    const suggestions = ['status','deploy core','help'];
    function renderSuggestions() {
      document.getElementById('suggestions').innerHTML =
        suggestions.map(s =>
          `<button onclick="fillCmd('${s}')" class="btn" style="padding:.3rem .8rem;font-size:.85rem;">${s}</button>`
        ).join('');
    }
    function fillCmd(cmd) {
      const inp = document.getElementById('terminalInput');
      inp.value = cmd; inp.focus();
    }

    document.addEventListener("DOMContentLoaded", () => {
      Widget.init({
        containerId: "widget-container",
        theme: "dark",
        apiKey: window.NEXT_PUBLIC_WIDGET_API_KEY
      });
      renderSuggestions();

      // Slide-in
      ['dashboard','demo'].forEach((id,i) => {
        const el = document.getElementById(id);
        el.style.transform = i ? 'translateX(100vw)' : 'translateX(-100vw)';
        el.style.transition = 'transform .6s ease';
      });
      setTimeout(() => {
        document.getElementById('dashboard').style.transform = 'translateX(0)';
        document.getElementById('demo').style.transform      = 'translateX(0)';
      }, 200);

      // Auto-focus post-checkout
      if (location.hash === "#demo") {
        setTimeout(() => document.getElementById("terminalInput").focus(), 300);
      }
    });
  </script>
</body>
</html>

